<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>컴포저 | Seunguk&#39;s Blog | Computer scientist</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="web,php,laravel,Composer">
    <meta name="description" content="라라벨를 처음 설치할 때 컴포저(composer)라는 놈을 설치해보았던 경험이 있을 것이다. 처음에는 이것이 무엇인지 모르고 그냥 설치하고 사용을 했을수도 있다. 이제 이 녀석 정체를 조금 알아보도록하자. 컴포저 란?컴포저는 PHP의 표준 의존성 관리 도구, PHP의 패키지 매니저라고 한다. 다른 프로그래밍 언어의 npm, bundle, pip, gradl">
<meta name="keywords" content="web,php,laravel,Composer">
<meta property="og:type" content="article">
<meta property="og:title" content="컴포저">
<meta property="og:url" content="https://seunguklee.github.io/2017/07/28/composer/index.html">
<meta property="og:site_name" content="Seunguk&#39;s Blog">
<meta property="og:description" content="라라벨를 처음 설치할 때 컴포저(composer)라는 놈을 설치해보았던 경험이 있을 것이다. 처음에는 이것이 무엇인지 모르고 그냥 설치하고 사용을 했을수도 있다. 이제 이 녀석 정체를 조금 알아보도록하자. 컴포저 란?컴포저는 PHP의 표준 의존성 관리 도구, PHP의 패키지 매니저라고 한다. 다른 프로그래밍 언어의 npm, bundle, pip, gradl">
<meta property="og:updated_time" content="2018-02-07T10:15:13.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="컴포저">
<meta name="twitter:description" content="라라벨를 처음 설치할 때 컴포저(composer)라는 놈을 설치해보았던 경험이 있을 것이다. 처음에는 이것이 무엇인지 모르고 그냥 설치하고 사용을 했을수도 있다. 이제 이 녀석 정체를 조금 알아보도록하자. 컴포저 란?컴포저는 PHP의 표준 의존성 관리 도구, PHP의 패키지 매니저라고 한다. 다른 프로그래밍 언어의 npm, bundle, pip, gradl">
    
        <link rel="alternate" type="application/atom+xml" title="Seunguk&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Seunguk Lee</h5>
          <a href="mailto:lsy931106@gmail.com" title="lsy931106@gmail.com" class="mail">lsy931106@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/profile"  >
                <i class="icon icon-lg icon-user"></i>
                Profile
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/seunguklee" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">컴포저</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search..">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">컴포저</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-07-27T15:00:00.000Z" itemprop="datePublished" class="page-time">
  2017-07-28
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/web/">web</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/web/php/">php</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/web/php/laravel/">laravel</a></li></ul></li></ul></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#컴포저-란"><span class="post-toc-number">1.</span> <span class="post-toc-text">컴포저 란?</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#컴포저-사용의-이점"><span class="post-toc-number">2.</span> <span class="post-toc-text">컴포저 사용의 이점</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#composer-json-파일-살펴보기"><span class="post-toc-number">3.</span> <span class="post-toc-text">composer.json 파일 살펴보기</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#composer-install-amp-update"><span class="post-toc-number">4.</span> <span class="post-toc-text">composer install &amp; update</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#버전-충돌-문제-해결방안"><span class="post-toc-number">5.</span> <span class="post-toc-text">버전 충돌 문제 해결방안</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#오토로드"><span class="post-toc-number">6.</span> <span class="post-toc-text">오토로드</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#참고-문서"><span class="post-toc-number">7.</span> <span class="post-toc-text">참고 문서</span></a></li></ol>
        </nav>
    </aside>


<article id="post-composer"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">컴포저</h1>
        <div class="post-meta">
            <time class="post-time" title="2017-07-28 00:00:00" datetime="2017-07-27T15:00:00.000Z"  itemprop="datePublished">2017-07-28</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/web/">web</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/web/php/">php</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/web/php/laravel/">laravel</a></li></ul></li></ul></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>라라벨를 처음 설치할 때 컴포저(composer)라는 놈을 설치해보았던 경험이 있을 것이다. 처음에는 이것이 무엇인지 모르고 그냥 설치하고 사용을 했을수도 있다. 이제 이 녀석 정체를 조금 알아보도록하자.</p>
<h1 id="컴포저-란"><a href="#컴포저-란" class="headerlink" title="컴포저 란?"></a>컴포저 란?</h1><p>컴포저는 PHP의 표준 의존성 관리 도구, PHP의 패키지 매니저라고 한다. 다른 프로그래밍 언어의 npm, bundle, pip, gradle, maven과 비슷한 것이라고 생각하면 될 것 같다. 그렇다면 의존성 관리 도구란 무엇일까? 다음과 같은 상황을 가정해보자. 컴포넌트 A를 가져왔는데 이 컴포넌트 A를 사용하려면 컴포넌트 B가 필요하고 컴포넌트 B를 사용하려면 컴포넌트 C가 필요하고… 결국엔 Z까지 필요한 상황이 발생했다. 그런데 새로운 컴포넌트는 기존에 사용하던 의존성과 충돌하는 하위 컴포넌트가 필요할 수도 있고, 자기들끼리 서로 필요한 상황도 발생 할 수도 있다. 이러한 상황을 ‘의존성 지옥’이라고 부르는데 의존성 관리 도구가 이러한 문제점의 해결을 돕는다.</p>
<h1 id="컴포저-사용의-이점"><a href="#컴포저-사용의-이점" class="headerlink" title="컴포저 사용의 이점"></a>컴포저 사용의 이점</h1><ul>
<li>다른 사람의 문제 해결 방법을 가져다 내 프로젝트에 쓸 수 있다.</li>
<li>검증된 품질 높은 컴포넌트 사용이 가능하다.</li>
<li>install 및 update 등 컴포넌트 관리를 자동화 할 수 있다.</li>
<li>Autoload 기능을 쉽게 사용 가능하다. 이는 require 지옥에서 벗어날 수 있다.</li>
<li>컴포터 컴포넌트(vendor)는 버전 관리에 포함되지 않아서 코드 공간이 줄어든다.</li>
<li>개발팀 및 테스트/운영 서버에서 개발 버전과 동일한 의존성을 사용하여 버전 불일치로 발생하는 문제점을 피할 수 있다.(composer.lock)</li>
</ul>
<h1 id="composer-json-파일-살펴보기"><a href="#composer-json-파일-살펴보기" class="headerlink" title="composer.json 파일 살펴보기"></a>composer.json 파일 살펴보기</h1><p>다음은 프로젝트의 composer.json 파일의 일부분을 가져 온 것이다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"require": &#123;</span><br><span class="line">  "php": "&gt;=5.6.4",</span><br><span class="line">  "laravel/framework": "5.3.*",</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&quot;require&quot;</code> : 사용하고 있는 프로젝트가 의존하는 컴포넌트들의 목록들을 볼 수 있다.</li>
<li><code>&quot;laravel/framework:&quot; &quot;5.3.*&quot;</code> : <code>laravel</code> 은 벤더 이름이며, <code>framework</code> 는 패키지 이름이며 둘을 합쳐서 컴포넌트 이름 혹은 패키지라고 한다. 뒤에 <code>5.3.*</code> 은 가져올 버전을 말하며 5.3 버전 중 가장 최신을 가져온다는 뜻이다.</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">"require-dev": &#123;</span><br><span class="line">  "fzaninotto/faker": "~1.4",</span><br><span class="line">  "mockery/mockery": "0.9.*",</span><br><span class="line">  "phpunit/phpunit": "~5.0",</span><br><span class="line">  "symfony/css-selector": "3.1.*",</span><br><span class="line">  "symfony/dom-crawler": "3.1.*"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&quot;require-dev&quot;</code> : 개발용으로만 필요한 컴포넌트 목록들을 볼 수 있다.</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">"autoload": &#123;</span><br><span class="line">  "classmap": [</span><br><span class="line">    <span class="string">"database"</span></span><br><span class="line">  ],</span><br><span class="line">  "psr-4": &#123;</span><br><span class="line">    "App\\": "app/"</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&quot;autoload&quot;</code> : 오토로딩, 개발을 할 때 하나의 파일에 많은 코드를 넣지 않고 일반적으로 여러 개의 파일을 나누어 코드를 구조화시켜 관리한다. 이런식으로 사용하다보면 다른 파일의 코드를 사용하기 위해 불러오는 경우가 발생하는데 PHP에서는 require를 이용한다. 하지만 불러올 파일이 많으면 <code>require</code> 키워드를 많이 사용해야되는 불편함이 발생할 수 있다. 오토로딩은 이러한 불편한 점을 해결해 준다. 참고로 라라벨은 PSR-4 오토로딩 표준을 이용한다하는데 PSR-4은 PHP-FIG에서 제시한 표준화된 클래스 오토로딩 방법이다.  </li>
<li><code>&quot;psr-4&quot;</code> : App 네임스페이스의 루트를 app 디레토리라고 선언을 한 것이며 app 디레토리 아래의 파일들을 PSR-4 방식으로 불러온다고 컴포저에게 말하는 것이다. 그래서 app 디레토리 아래의 파일들을 열어 파일의 시작 부분을 보면 항상  <code>namespace App\...</code> 로 시작하는 것을 볼 수 있다.</li>
<li><code>&quot;classmap&quot;</code> : <code>database</code> 디렉토리는 <code>classmap</code> 으로 읽어 들이고 있다. 그래서 <code>database</code> 아래의 클래스들은 <code>namespace</code> 선언이 없다. 즉 전역 네임스페이스를 이용한다는 의미이다.</li>
</ul>
<p>정리하자면 <code>\App\Post</code> 를 코드에서 언급하게되면, 오토로더는 <code>app/Post.php</code> 파일에 필요한 클래스가 있다는 것을 스스로 인지하여 파일의 내용을 미리 읽어와서 준비해 두는 것이다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"scripts" : &#123; .. &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>&quot;scripts&quot;</code> : 프로젝트를 처음 만들었을 때, 컴포넌트를 설치하였을 때, 컴포넌트를 업데이트 하였을때 등 다양한 이벤트에서 실행할 콘솔 명령들을 정의한다.</p>
<p>컴포넌트들은 <code>vendor</code> 디레토리 아래에 설치되는데 우리가 정의한 컴포넌트보다 많은 것을 볼 수 있다. 이는 의존성의 의존성 때문이다.<br>보통 팀 동료는 원격 코드 저장소로부터 <code>vendor</code> 디렉토리를 제외하고 받으며 <code>$composer install</code> 명령으로 필요한 컴포넌트들을 설치하는 것이 모범 사례이다.</p>
</li>
</ul>
<h1 id="composer-install-amp-update"><a href="#composer-install-amp-update" class="headerlink" title="composer install &amp; update"></a>composer install &amp; update</h1><ul>
<li><p><code>$composer install</code> : 프로젝트가 의존하는 컴포넌트를 처음 설치할 때 또는 <code>composer.lock</code> 에 정의된 컴포넌트 버전을 그대로 설치할 때 이 명령을 사용한다.</p>
</li>
<li><p><code>$composer update</code> : 이미 설치한 컴포넌트의 버전을 업그레이드할 때 이 명령을 사용한다.</p>
</li>
</ul>
<h1 id="버전-충돌-문제-해결방안"><a href="#버전-충돌-문제-해결방안" class="headerlink" title="버전 충돌 문제 해결방안"></a>버전 충돌 문제 해결방안</h1><ul>
<li>메뉴얼에서 제안하는 버전과 <code>composer.json</code> 파일의 충돌하는 컴포넌트 버전과 비교하여 일치하는지 확인한다. 아니라면 수정한다.</li>
<li><code>composer.lock</code> 파일 과 <code>vendor</code> 디렉토리를 삭제하고 <code>$composer install</code> 명령을 통하여 다시 컴포넌트를 설치 해본다.</li>
</ul>
<p>다음 2가지 방법은 개발 중에만 사용할 수 있는 임시 방편이니 참고하도록 하자.</p>
<ul>
<li>의존성을 <code>require-dev</code>로 옮기고 재시도 해보자.</li>
<li><code>composer.json</code>파일의 마지막 줄에 <code>&quot;minimum-stability:&quot; &quot;dev&quot;</code> 문장을 추가하여 재시도 해보자.</li>
</ul>
<p>‘Could not fetch <a href="https://api.github.com/repos/" target="_blank" rel="noopener">https://api.github.com/repos/</a>… , please create a Github OAuth token to go over the API rate limit’ 와 같은 에러 메세지를 컴포저 실행 도중 만났다고 하자. 다음은 Github에서 PHP 컴포넌트를 가져올 때 시간당 요청 한도를 초과해서 발생한 문제인데 다음과 같이 해결 할 수 있다고 한다.</p>
<ul>
<li>시간이 지난후 다시 시도</li>
<li>에러 메세지와 함께 표시된 Github URL을 방문하여 토근을 생성, 만든 토큰을 콘솔 프롬포트 Token (hidden): 에 붙여 넣는다.</li>
</ul>
<h1 id="오토로드"><a href="#오토로드" class="headerlink" title="오토로드"></a>오토로드</h1><p>컴포저는 <code>vendor</code> 디렉토리 아래에 자신이 참조할 데이터베이스를 미리 만들어 놓는데 이는 클래스 이름과 파일 경로 간 매핑을 담고 있으며 메모리에 올려 놓는 일을 <code>vendor/autoload.php</code> 파일이 한다.</p>
<p>오토로드는 어떤 클래스가 동작할 때 다른 클래스를 참조하면, 메모리에 적재된 컴포저 데이터베이스에서 매핑된 파일을 찾아 자동으로 require을 수행하는 식으로 작동한다.</p>
<h1 id="참고-문서"><a href="#참고-문서" class="headerlink" title="참고 문서"></a>참고 문서</h1><blockquote><ul>
<li><a href="https://appkr.github.io/l5book-snippets/draft/1017-composer.html" target="_blank" rel="noopener">Composer</a></li>
</ul>
</blockquote>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Updated：<time datetime="2018-02-07T10:15:13.000Z" itemprop="dateUpdated">2018-02-07 19:15:13</time>
</span><br>


        
        URL：<a href="/2017/07/28/composer/" target="_blank" rel="external">https://seunguklee.github.io/2017/07/28/composer/</a>
        
    </div>
    
    <footer>
        <a href="https://seunguklee.github.io">
            <img src="/img/avatar.jpg" alt="Seunguk Lee">
            Seunguk Lee
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Composer/">Composer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/laravel/">laravel</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li></ul>


            


        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2017/11/03/Front-Controller-Pattern/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Front Controller Pattern</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2017/07/27/what-is-nodejs-and-expressjs/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">what is node.js and express.js</h4>
      </a>
    </div>
  
</nav>



    














</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        UserView：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        PageView：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>Blog content licensed under the Creative Commons<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ja"> CC BY-SA</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Seunguk Lee &copy; 2015 - 2018</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: false, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
